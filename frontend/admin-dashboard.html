<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>LibraryOS - Admin Dashboard</title>

    <link rel="stylesheet" href="css/dashboard.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

</head>

<body>

    <div class="dashboard-container">

        <div class="sidebar">

            <div class="sidebar-header">

                <div class="logo">

                    <i class="fas fa-book-open"></i>

                    <h2>LibraryOS</h2>

                </div>

            </div>

            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-tab="student-management">
                    <i class="fas fa-user-graduate"></i>
                    <span>Student Management</span>
                </a>
                <a href="#" class="nav-item" data-tab="resource-allocation">
                    <i class="fas fa-laptop"></i>
                    <span>Resource Deallocation</span>
                </a>
                <a href="#" class="nav-item" data-tab="queue-management">
                    <i class="fas fa-list-ol"></i>
                    <span>Queue Management</span>
                </a>
                <a href="#" class="nav-item" data-tab="library-view">
                    <i class="fas fa-building"></i>
                    <span>Library View</span>
                </a>
                </nav>


            <div class="sidebar-footer">

                <button class="logout-btn" onclick="logout()">

                    <i class="fas fa-sign-out-alt"></i>

                    <span>Logout</span>

                </button>

            </div>

        </div>



        <div class="main-content">

            <header class="content-header">

                <div class="header-left">

                    <h1>Library Management Dashboard</h1>

                    <p>Real-time resource allocation using OS concepts</p>

                </div>

                <div class="header-right">

                    <div class="status-indicators">

                        <div class="status-item">

                            <i class="fas fa-microchip"></i>

                            <span>System Online</span>

                        </div>

                        <div class="status-item">

                            <i class="fas fa-database"></i>

                            <span>Database Connected</span>

                        </div>

                    </div>

                </div>

            </header>



            <div class="content-area">

                <div class="tab-content active" id="dashboard-tab">

                    <div class="stats-grid">

                        <div class="stat-card">

                            <div class="stat-icon">

                                <i class="fas fa-users"></i>

                            </div>

                            <div class="stat-info">

                                <h3 id="total-students">0</h3>

                                <p>Total Students</p>

                            </div>

                            <div class="stat-trend up">

                                <i class="fas fa-arrow-up"></i>

                            </div>

                        </div>



                        <div class="stat-card">

                            <div class="stat-icon pc">

                                <i class="fas fa-laptop"></i>

                            </div>

                            <div class="stat-info">

                                <h3 id="available-pcs">0</h3>

                                <p>Available PCs</p>

                            </div>

                            <div class="stat-trend down">

                                <i class="fas fa-arrow-down"></i>

                            </div>

                        </div>



                        <div class="stat-card">

                            <div class="stat-icon book">

                                <i class="fas fa-book"></i>

                            </div>

                            <div class="stat-info">

                                <h3 id="available-books">0</h3>

                                <p>Available Books</p>

                            </div>

                            <div class="stat-trend stable">

                                <i class="fas fa-minus"></i>

                            </div>

                        </div>



                        <div class="stat-card">

                            <div class="stat-icon seat">

                                <i class="fas fa-chair"></i>

                            </div>

                            <div class="stat-info">

                                <h3 id="available-seats">0</h3>

                                <p>Available Seats</p>

                            </div>

                            <div class="stat-trend down">

                                <i class="fas fa-arrow-down"></i>

                            </div>

                        </div>

                    </div>



                    <div class="charts-grid">

                        <div class="chart-card">

                            <h3>Resource Distribution</h3>

                            <div class="chart-container">

                                <canvas id="resourceChart"></canvas>

                            </div>

                        </div>



                        <div class="chart-card">

                            <h3>Queue Status</h3>

                            <div class="queue-visual">

                                <div class="queue-item pc-queue">

                                    <i class="fas fa-laptop"></i>

                                    <span>PC Queue: <span id="pc-queue-count">0</span></span>

                                </div>

                                <div class="queue-item book-queue">

                                    <i class="fas fa-book"></i>

                                    <span>Book Queue: <span id="book-queue-count">0</span></span>

                                </div>

                                <div class="queue-item seat-queue">

                                    <i class="fas fa-chair"></i>

                                    <span>Seat Queue: <span id="seat-queue-count">0</span></span>

                                </div>

                            </div>

                        </div>

                    </div>



                    <div class="demo-buttons">

                        <button class="demo-btn" onclick="dashboard.initializeSampleData()">

                            <i class="fas fa-database"></i>

                            Initialize Sample Data

                        </button>

                        <button class="demo-btn reset" onclick="dashboard.resetData()">

                            <i class="fas fa-redo"></i>

                            Reset All Data

                        </button>

                        <button class="demo-btn" onclick="dashboard.demoPreemption()">

                            <i class="fas fa-bolt"></i>

                            Demo Priority Preemption

                        </button>

                        <button class="demo-btn" onclick="dashboard.demoFCFS()">

                            <i class="fas fa-sort-amount-down"></i>

                            Demo FCFS

                        </button>

                    </div>

                    <div class="demo-info">

                        <p><strong>How it works:</strong> Students are added to queues. When resources free up, FCFS

                            with Priority Preemption allocates them.</p>

                    </div>

                </div>



                <div class="tab-content" id="student-management-tab">

                    <div class="tab-header">

                        <h2>Student Management - FCFS with Priority Preemption</h2>

                        <p>Add students to system. Resources allocated directly if available, otherwise added to

                            ready

                            queue.</p>

                    </div>



                    <div class="form-card">

                        <h3>Add New Student Request</h3>

                        <form id="studentForm">

                            <div class="form-grid">

                                <div class="form-group">

                                    <label for="studentName">Student Name</label>

                                    <input type="text" id="studentName" placeholder="Enter student name" required>

                                </div>



                                <div class="form-group">

                                    <label for="studentId">Student ID</label>

                                    <input type="text" id="studentId" placeholder="Enter student ID" required>

                                </div>



                                <div class="form-group">

                                    <label for="requestType">Resource Type</label>

                                    <select id="requestType" required>

                                        <option value="">Select resource</option>

                                        <option value="pc">PC/Computer</option>

                                        <option value="book">Book</option>

                                        <option value="seat">Study Seat</option>

                                    </select>

                                </div>



                                <div class="form-group">

                                    <label for="priority">Priority Level</label>

                                    <select id="priority" required>

                                        <option value="1">Low (1) - Can be preempted</option>

                                        <option value="2" selected>Medium (2)</option>

                                        <option value="3">High (3)</option>

                                        <option value="4">Very High (4) - Can preempt</option>

                                        <option value="5">Emergency (5) - Will preempt</option>

                                    </select>

                                </div>



                                <div class="form-group">

                                    <label for="burstTime">Required Time (minutes)</label>

                                    <input type="number" id="burstTime" placeholder="Enter time required" value="30"

                                        min="5" max="180" required>

                                </div>

                            </div>



                            <button type="submit" class="submit-btn">

                                <i class="fas fa-plus"></i>

                                Add Student

                            </button>

                        </form>

                    </div>



                    <div class="allocation-status">

                        <div class="status-card">

                            <h3><i class="fas fa-tasks"></i> Current Allocation Status</h3>

                            <div class="status-grid">

                                <div class="status-item">

                                    <span class="status-label">Total Allocated:</span>

                                    <span class="status-value" id="total-allocated">0</span>

                                </div>

                                <div class="status-item">

                                    <span class="status-label">In Ready Queue:</span>

                                    <span class="status-value" id="total-ready">0</span>

                                </div>

                                <div class="status-item">

                                    <span class="status-label">Preemptions Today:</span>

                                    <span class="status-value" id="total-preemptions">0</span>

                                </div>

                            </div>

                        </div>

                    </div>



                    <div class="table-section">

                        <h3><i class="fas fa-check-circle"></i> Currently Allocated Resources</h3>

                        <div class="table-container">

                            <table id="allocatedTable">

                                <thead>

                                    <tr>

                                        <th>Student Name</th>

                                        <th>Student ID</th>

                                        <th>Resource</th>

                                        <th>Priority</th>

                                        <th>Time Required</th>

                                        <th>Status</th>

                                        <th>Actions</th>

                                    </tr>

                                </thead>

                                <tbody id="allocatedTableBody">

                                </tbody>

                            </table>

                        </div>

                    </div>



                    <div class="table-section">

                        <h3><i class="fas fa-clock"></i> Ready Queue (Waiting for Resources)</h3>

                        <div class="table-container">

                            <table id="readyTable">

                                <thead>

                                    <tr>

                                        <th>Position</th>

                                        <th>Student Name</th>

                                        <th>Student ID</th>

                                        <th>Resource</th>

                                        <th>Priority</th>

                                        <th>Arrival Time</th>

                                        <th>Wait Time</th>

                                    </tr>

                                </thead>

                                <tbody id="readyTableBody">

                                </tbody>

                            </table>

                        </div>

                    </div>

                </div>



                <div class="tab-content" id="resource-allocation-tab">

                    <div class="tab-header">

                        <h2>Resource Deallocation</h2>

                        <p>Manage and deallocate library resources in real-time</p>

                    </div>



                    <div class="resource-cards">

                        <div class="resource-card">

                            <div class="resource-header pc">

                                <i class="fas fa-laptop"></i>

                                <h3>PC Resources</h3>

                            </div>

                            <div class="resource-info">

                                <div class="resource-stat">

                                    <span class="stat-value" id="pc-available">10</span>

                                    <span class="stat-label">Available</span>

                                </div>

                                <div class="resource-stat">

                                    <span class="stat-value" id="pc-allocated">0</span>

                                    <span class="stat-label">Allocated</span>

                                </div>

                                <div class="resource-stat">

                                    <span class="stat-value" id="pc-queue">0</span>

                                    <span class="stat-label">In Queue</span>

                                </div>

                            </div>

                            <div class="resource-actions">

                                <button class="resource-btn deallocate" onclick="dashboard.deallocateRandomResource('pc')">

                                    <i class="fas fa-stop"></i>

                                    Deallocate Random

                                </button>

                            </div>

                        </div>



                        <div class="resource-card">

                            <div class="resource-header book">

                                <i class="fas fa-book"></i>

                                <h3>Book Resources</h3>

                            </div>

                            <div class="resource-info">

                                <div class="resource-stat">

                                    <span class="stat-value" id="book-available">50</span>

                                    <span class="stat-label">Available</span>

                                </div>

                                <div class="resource-stat">

                                    <span class="stat-value" id="book-allocated">0</span>

                                    <span class="stat-label">Allocated</span>

                                </div>

                                <div class="resource-stat">

                                    <span class="stat-value" id="book-queue">0</span>

                                    <span class="stat-label">In Queue</span>

                                </div>

                            </div>

                            <div class="resource-actions">

                                <button class="resource-btn deallocate" onclick="dashboard.deallocateRandomResource('book')">

                                    <i class="fas fa-stop"></i>

                                    Deallocate Random

                                </button>

                            </div>

                        </div>



                        <div class="resource-card">

                            <div class="resource-header seat">

                                <i class="fas fa-chair"></i>

                                <h3>Seat Resources</h3>

                            </div>

                            <div class="resource-info">

                                <div class="resource-stat">

                                    <span class="stat-value" id="seat-available">30</span>

                                    <span class="stat-label">Available</span>

                                </div>

                                <div class="resource-stat">

                                    <span class="stat-value" id="seat-allocated">0</span>

                                    <span class="stat-label">Allocated</span>

                                </div>

                                <div class="resource-stat">

                                    <span class="stat-value" id="seat-queue">0</span>

                                    <span class="stat-label">In Queue</span>

                                </div>

                            </div>

                            <div class="resource-actions">

                                <button class="resource-btn deallocate" onclick="dashboard.deallocateRandomResource('seat')">

                                    <i class="fas fa-stop"></i>

                                    Deallocate Random

                                </button>

                            </div>

                        </div>

                    </div>



                    <div class="resource-section">

                        <div class="resource-table">

                            <h3><i class="fas fa-laptop-code"></i> PC Resources</h3>

                            <div class="table-container">

                                <table id="pcTable">

                                    <thead>

                                        <tr>

                                            <th>PC ID</th>

                                            <th>Status</th>

                                            <th>Allocated To</th>

                                            <th>Student ID</th>

                                            <th>Time Remaining</th>

                                            <th>Actions</th>

                                        </tr>

                                    </thead>

                                    <tbody id="pcTableBody">

                                    </tbody>

                                </table>

                            </div>

                        </div>



                        <div class="resource-table">

                            <h3><i class="fas fa-book-reader"></i> Book Resources</h3>

                            <div class="table-container">

                                <table id="bookTable">

                                    <thead>

                                        <tr>

                                            <th>Book ID</th>

                                            <th>Book Title</th>

                                            <th>Status</th>

                                            <th>Allocated To</th>

                                            <th>Student ID</th>

                                            <th>Due Date</th>

                                            <th>Actions</th>

                                        </tr>

                                    </thead>

                                    <tbody id="bookTableBody">

                                    </tbody>

                                </table>

                            </div>

                        </div>



                        <div class="resource-table">

                            <h3><i class="fas fa-chair"></i> Seat Resources</h3>

                            <div class="table-container">

                                <table id="seatTable">

                                    <thead>

                                        <tr>

                                            <th>Seat ID</th>

                                            <th>Status</th>

                                            <th>Allocated To</th>

                                            <th>Student ID</th>

                                            <th>Time Remaining</th>

                                            <th>Actions</th>

                                        </tr>

                                    </thead>

                                    <tbody id="seatTableBody">

                                    </tbody>

                                </table>

                            </div>

                        </div>

                    </div>

                </div>



                <div class="tab-content" id="queue-management-tab">

                    <div class="tab-header">

                        <h2>Queue Management</h2>

                        <p>Monitor and manage waiting queues using OS Priority/FCFS Scheduling</p>

                    </div>



                    <div class="queue-controls">

                        <button class="queue-btn" onclick="dashboard.runScheduling('fcfs')">

                            <i class="fas fa-sort-amount-down"></i>

                            Simulate FCFS Order

                        </button>

                        <button class="queue-btn" onclick="dashboard.runScheduling('priority')">

                            <i class="fas fa-star"></i>

                            Simulate Priority Order

                        </button>

                    </div>



                    <div class="queue-cards">

                        <div class="queue-card">

                            <div class="queue-header pc">

                                <i class="fas fa-laptop"></i>

                                <h3>PC Queue <span class="queue-count" id="pc-queue-count">0</span></h3>

                            </div>

                            <div class="queue-list" id="pc-queue-list">

                                <div class="empty-queue">No students in PC queue</div>

                            </div>

                        </div>



                        <div class="queue-card">

                            <div class="queue-header book">

                                <i class="fas fa-book"></i>

                                <h3>Book Queue <span class="queue-count" id="book-queue-count">0</span></h3>

                            </div>

                            <div class="queue-list" id="book-queue-list">

                                <div class="empty-queue">No students in Book queue</div>

                            </div>

                        </div>



                        <div class="queue-card">

                            <div class="queue-header seat">

                                <i class="fas fa-chair"></i>

                                <h3>Seat Queue <span class="queue-count" id="seat-queue-count">0</span></h3>

                            </div>

                            <div class="queue-list" id="seat-queue-list">

                                <div class="empty-queue">No students in Seat queue</div>

                            </div>

                        </div>

                    </div>



                    <div class="timeline-section">

                        <h3>Scheduling Timeline</h3>

                        <div class="timeline" id="scheduling-timeline">

                            <div class="empty-timeline">Run a scheduling algorithm to see the timeline</div>

                        </div>

                    </div>

                </div>



                <div class="tab-content" id="library-view-tab">

                    <div class="tab-header">

                        <h2>Library Interactive View</h2>

                        <p>Real-time visualization of library resources and allocations</p>

                    </div>



                    <div class="redirect-container">

                        <div class="redirect-card">

                            <div class="redirect-icon">

                                <i class="fas fa-external-link-alt"></i>

                            </div>

                            <div class="redirect-content">

                                <h3>Open Interactive Library View</h3>

                                <p>Click below to open your existing library visualization.</p>

                                <button class="redirect-btn" onclick="window.location.href='library-view.html'">

                                    <i class="fas fa-door-open"></i>

                                    Open Library View

                                </button>

                                <p class="redirect-note">Your existing library-view.html will open with all its features</p>

                            </div>

                        </div>

                    </div>

                </div>



                </div>

        </div>



        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script src="./js/dashboard.js"></script>

        <script src="./js/api.js"></script>

    </div>

</body>



</html>